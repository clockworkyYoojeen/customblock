!function(e){var t={};function l(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=5)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},,,function(e,t,l){"use strict";l.r(t);var n=l(0),o=l(2),r=l(1);wp.blocks.registerBlockType("ybc/yoojeenblock",{title:"Posts from Category",icon:"welcome-learn-more",category:"common",attributes:{blockTitle:{type:"string",default:"Default title"},postData:{type:"array"},currentCat:{type:"string",default:null},titleColor:{type:"string",default:"#4d4d4d"},blockBg:{type:"string",default:"#b8c9f8"},titleSize:{type:"string",default:"18"},loadingStyle:{type:"number",default:0},theAlignment:{type:"string",default:"left"}},description:"Displays several posts from choosen category (if exists). Choose category in dropdown list below",example:{attributes:{blockTitle:"Block Header",postData:[{post_title:"Some post from category",post_url:""},{post_title:"Another post from category",post_url:""}],currentCat:"",titleColor:"#4d4d4d",blockBg:"#b8c9f8",titleSize:"18",loadingStyle:0,theAlignment:"left"}},edit:function(e){let{attributes:t,setAttributes:l}=e,c=[],a="";void 0!==typeof catinfo&&catinfo.length&&(c.push({label:"Select category",value:0}),catinfo.map((function(e,l){e.cat_id==t.currentCat&&(a="selected"),c.push({label:e.cat_name,value:e.cat_id,selected:a})})));const{blockTitle:i,postData:u,currentCat:s,titleColor:b,blockBg:p,titleSize:d,loadingStyle:f,theAlignment:g}=t;return console.log(u),[Object(n.createElement)(o.BlockControls,null,Object(n.createElement)(o.AlignmentToolbar,{value:g,onChange:e=>l({theAlignment:e})})),Object(n.createElement)(o.InspectorControls,null,Object(n.createElement)(r.PanelBody,null,Object(n.createElement)("h5",null,void 0!==c&&c.length?"List of Categories":"There is no categories yet"),Object(n.createElement)(r.SelectControl,{label:"",value:s,options:c,onChange:e=>{!function(e){0!=e&&(l({currentCat:e}),l({loadingStyle:1}),fetch("http://wptest/wp-json/ybc/v1/my-route/"+e).then(e=>{if(!e.ok)throw new Error(e.statusText);return e}).then(e=>e.json()).then(e=>{l({postData:[...e],loadingStyle:0})}))}(e)}})),Object(n.createElement)(r.PanelBody,null,Object(n.createElement)(r.TextControl,{label:"Change block Title",help:"",value:i,placeholder:i.default,onChange:function(e){l({blockTitle:e})}})),Object(n.createElement)(r.PanelBody,null,Object(n.createElement)(r.TextControl,{label:"Change Title Font Size",help:"",value:d,placeholder:d.default,onChange:function(e){l({titleSize:e})}})),Object(n.createElement)(r.PanelBody,null,Object(n.createElement)("p",null,Object(n.createElement)("strong",null,"Select title color:")),Object(n.createElement)(o.ColorPalette,{value:b,onChange:function(e){l({titleColor:e})}})),Object(n.createElement)(r.PanelBody,null,Object(n.createElement)("p",null,Object(n.createElement)("strong",null,"Select block background:")),Object(n.createElement)(o.ColorPalette,{value:p,onChange:function(e){l({blockBg:e})}}))),Object(n.createElement)("div",{className:"block_container",style:{backgroundColor:p,textAlign:g}},Object(n.createElement)("h4",{style:{color:b,fontSize:d+"px"}},i," "),Object(n.createElement)("div",{className:"results"},null!=u&&u.length?u.map((function(e){return Object(n.createElement)("h6",null,e.post_title)})):Object(n.createElement)("h6",null,"Choose category..."),Object(n.createElement)("div",{className:"loading",style:{backgroundColor:p,opacity:f}},"Loading...")))]},save:function(){return null}})}]);